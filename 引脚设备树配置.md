
# PWM

## k1-x_pinctrl.dtsi

linux-6.6/arch/riscv/boot/dts/spacemit/k1-x_pinctrl.dtsi

```
	pinctrl_pwm4_1: pwm4_1_grp {
		pinctrl-single,pins = <
			K1X_PADCONF(GPIO_34, MUX_MODE3, (EDGE_NONE | PULL_UP | PAD_1V8_DS2))	/* pwm4 */
		>;
	};

	pinctrl_pwm5_1: pwm5_1_grp {
		pinctrl-single,pins = <
			K1X_PADCONF(GPIO_35, MUX_MODE3, (EDGE_NONE | PULL_UP | PAD_1V8_DS2))	/* pwm5 */
		>;
	};
```


## k1-x.dtsi
linux-6.6/arch/riscv/boot/dts/spacemit/k1-x.dtsi

```
		pwm4: pwm@d401b000 {
			compatible = "spacemit,k1x-pwm";
			reg = <0x0 0xd401b000 0x0 0x10>;
			#pwm-cells = <1>;
			clocks = <&ccu CLK_PWM4>;
			resets = <&reset RESET_PWM4>;
			k1x,pwm-disable-fd;
			status = "okay";
		};

		pwm5: pwm@d401b400 {
			compatible = "spacemit,k1x-pwm";
			reg = <0x0 0xd401b400 0x0 0x10>;
			#pwm-cells = <1>;
			clocks = <&ccu CLK_PWM5>;
			resets = <&reset RESET_PWM5>;
			k1x,pwm-disable-fd;
			status = "okay";
		};
```


## k1-x_MUSE-Pi-Pro.dts

linux-6.6/arch/riscv/boot/dts/spacemit/k1-x_MUSE-Pi-Pro.dts

```
&pwm4 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm4_1>;
	status = "okay";
};

&pwm5 {
	pinctrl-names = "default";
	pinctrl-0 = <&pinctrl_pwm5_1>;
	status = "okay";
};
```